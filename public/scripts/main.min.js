let nowTask,tasks=document.getElementById("tasks"),close=document.getElementById("iconClose"),btnComplite=document.getElementById("btnComplite"),visibleTask=document.getElementById("visibleTask"),listTasks=document.getElementsByClassName("task");function ready(){tasks=document.getElementById("tasks"),close=document.getElementById("iconClose"),btnComplite=document.getElementById("btnComplite"),visibleTask=document.getElementById("visibleTask")}function sendIdCompliteTask(e){let t=new XMLHttpRequest;t.open("POST","/complite",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send("id="+e)}document.addEventListener("DOMContentLoaded",ready),tasks.addEventListener("click",e=>{let t,s,n=!1;if("task__name"==e.target.classList[0]&&(nowTask=e.target.parentElement,t=e.target.innerText,s=e.target.nextElementSibling.innerText,n=!0),"task"==e.target.classList[0]&&(nowTask=e.target,t=e.target.children[0].innerText,s=e.target.children[1].innerText,n=!0),n){let e=document.getElementById("nameVisTask"),n=document.getElementById("descVisTask");e.innerText=t,n.innerText=s,visibleTask.style.display="block"}}),close.addEventListener("click",e=>{visibleTask.style.display="none"}),visibleTask.addEventListener("click",e=>{"visibleTask"==e.target.id&&(visibleTask.style.display="none")}),btnComplite.addEventListener("click",e=>{nowTask.classList.remove("active-task"),nowTask.classList.add("complite-task"),visibleTask.style.display="none";for(let e=0;e<listTasks.length;e++)if(listTasks[e]===nowTask){sendIdCompliteTask(e);break}});